<!DOCTYPE HTML>
<html lang="en" class="light" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>ai study note for new learning</title>
        <meta name="robots" content="noindex">


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('light')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="local-run/index.html"><strong aria-hidden="true">1.</strong> æœ¬åœ°è·‘å¤§æ¨¡å‹å‡†å¤‡</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="local-run/run-chatglm3.html"><strong aria-hidden="true">1.1.</strong> æœ¬åœ°è¿è¡Œchatglm3</a></li><li class="chapter-item expanded "><a href="local-run/run-sd.html"><strong aria-hidden="true">1.2.</strong> æœ¬åœ°è¿è¡Œstable-diffusion</a></li><li class="chapter-item expanded "><a href="local-run/run-knowledge-base.html"><strong aria-hidden="true">1.3.</strong> æœ¬åœ°æ­å»ºçŸ¥è¯†åº“</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">ai study note for new learning</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="æœ¬åœ°è¿è¡Œå¤§æ¨¡å‹å‡†å¤‡"><a class="header" href="#æœ¬åœ°è¿è¡Œå¤§æ¨¡å‹å‡†å¤‡">æœ¬åœ°è¿è¡Œå¤§æ¨¡å‹å‡†å¤‡</a></h1>
<h2 id="ç¡¬ä»¶å‡†å¤‡"><a class="header" href="#ç¡¬ä»¶å‡†å¤‡">ç¡¬ä»¶å‡†å¤‡</a></h2>
<h3 id="1ç¡¬ä»¶å‡†å¤‡"><a class="header" href="#1ç¡¬ä»¶å‡†å¤‡">1ã€ç¡¬ä»¶å‡†å¤‡</a></h3>
<p>1ã€ç‰©ç†æœºï¼šå†…å­˜å»ºè®®32gæˆ–è€…ä»¥ä¸Šï¼Œgpuæ˜¾å­˜å»ºè®®è‡³å°‘16gï¼Œç‰¹åˆ«æ˜¯å¦‚æœè·‘å›¾ç‰‡çš„è¯ï¼Œ20gä¼šæ›´å¥½ã€‚æ˜¾å¡æˆ‘æ¨èä¸€ä¸ªæ€§ä»·æ¯”æ¯”è¾ƒé«˜çš„é­”æ”¹ç‰ˆ2080ti,2700å·¦å³çš„ä»·æ ¼ï¼Œ22gæ˜¾å­˜ï¼Œæ€§ä»·æ¯”ç®—æ˜¯å¾ˆé«˜äº†ã€‚å¦‚æœä¸æ˜¯ç¼–ç¨‹ç¼–ç¨‹ä¸“ä¸šä¸å»ºè®®ç”¨amdæ˜¾å¡ï¼ŒçœŸçš„æ˜¯æµªè´¹æ—¶é—´ã€‚å¦‚æœæ˜¯é«˜ç«¯åˆè¿½æ±‚æ€§ä»·æ¯”çš„å¯ä»¥ä¹°2ä¸ªæˆ–è€…4ä¸ª2080tiï¼Œæ€§ä»·æ¯”ä¹Ÿéå¸¸é«˜ï¼Œæ˜¾å­˜ä¼šéå¸¸è¶³ã€‚</p>
<p>2ã€äº‘ä¸»æœºï¼Œä¸æƒ³ä¹°ç‰©ç†ä¸»æœºçš„ï¼Œå»ºè®®ä½¿ç”¨é˜¿é‡Œäº‘æˆ–è€…å…¶ä»–å‚å•†çš„gpuæœºå™¨ï¼ŒæŒ‰æµé‡æˆ–è€…æ—¶é—´è®¡è´¹ï¼Œå°å°é²œä¹Ÿæ˜¯å¾ˆä¸é”™ï¼Œæ¯”ä¹°æ˜¾å¡ä¾¿å®œå¤šäº†ã€‚</p>
<h3 id="2ç³»ç»Ÿå’Œç¯å¢ƒå‡†å¤‡"><a class="header" href="#2ç³»ç»Ÿå’Œç¯å¢ƒå‡†å¤‡">2ã€ç³»ç»Ÿå’Œç¯å¢ƒå‡†å¤‡</a></h3>
<h4 id="ç¬¬ä¸€ç§ç³»ç»Ÿwin11wsl2"><a class="header" href="#ç¬¬ä¸€ç§ç³»ç»Ÿwin11wsl2">ç¬¬ä¸€ç§ç³»ç»Ÿï¼šwin11+wsl2</a></h4>
<p>é€‚åˆwindowç”Ÿæ€çš„ç©å®¶ï¼Œä¸ç”¨åˆ‡æ¢ç³»ç»Ÿï¼Œå¹³å¸¸æƒ³æ‰“æ‰“æ¸¸æˆå•¥çš„ä¸è€½è¯¯ï¼Œæƒ³è·‘è·‘æ¨¡å‹ï¼Œæ‰“å¼€wsl2å¼€ç®±å³ç”¨ã€‚</p>
<ul>
<li>ä¼˜ç‚¹ï¼šä¸ç”¨åˆ‡ç³»ç»Ÿï¼Œå¯ä»¥æ‰“æ¸¸æˆï¼Œéå¸¸æ–¹ä¾¿</li>
<li>ç¼ºç‚¹ï¼šè·‘gpuçš„æ€§èƒ½æ¯”linuxä¼šä½ä¸€äº›ï¼Œä¸ªäººæ„Ÿè§‰å®Œå…¨å¤Ÿç”¨ã€‚</li>
</ul>
<h4 id="ç¬¬äºŒç§ç³»ç»Ÿubutun2204ç³»ç»Ÿ"><a class="header" href="#ç¬¬äºŒç§ç³»ç»Ÿubutun2204ç³»ç»Ÿ">ç¬¬äºŒç§ç³»ç»Ÿï¼šubutun22.04ç³»ç»Ÿï¼Œ</a></h4>
<p>é€‚åˆé«˜çº§é€‰æ‰‹ï¼Œä»¥åŠç”Ÿäº§åŠ›ç©å®¶ã€‚è£…ubutunååŸºæœ¬ä¸Šå‘Šåˆ«äº†æ¸¸æˆï¼Œé™¤éä½ è£…ä¸ªåŒç³»ç»Ÿã€‚</p>
<h4 id="å…¶ä»–ç¯å¢ƒ"><a class="header" href="#å…¶ä»–ç¯å¢ƒ">å…¶ä»–ç¯å¢ƒ</a></h4>
<h5 id="1å®‰è£…python"><a class="header" href="#1å®‰è£…python">1ã€å®‰è£…python</a></h5>
<div style="break-before: page; page-break-before: always;"></div><h1 id="æœ¬åœ°è¿è¡Œchatglm3"><a class="header" href="#æœ¬åœ°è¿è¡Œchatglm3">æœ¬åœ°è¿è¡Œchatglm3</a></h1>
<p><a href="https://github.com/THUDM/ChatGLM3/tree/main">chatglm3å¼€æºåœ°å€</a></p>
<h2 id="chatglm3"><a class="header" href="#chatglm3">chatglm3</a></h2>
<p>ChatGLM3 æ˜¯æ™ºè°±AIå’Œæ¸…åå¤§å­¦ KEG å®éªŒå®¤è”åˆå‘å¸ƒçš„æ–°ä¸€ä»£å¯¹è¯é¢„è®­ç»ƒæ¨¡å‹ã€‚ChatGLM3-6B æ˜¯ ChatGLM3 ç³»åˆ—ä¸­çš„å¼€æºæ¨¡å‹ï¼Œåœ¨ä¿ç•™äº†å‰ä¸¤ä»£æ¨¡å‹å¯¹è¯æµç•…ã€éƒ¨ç½²é—¨æ§›ä½ç­‰ä¼—å¤šä¼˜ç§€ç‰¹æ€§çš„åŸºç¡€ä¸Šï¼ŒChatGLM3-6B å¼•å…¥äº†å¦‚ä¸‹ç‰¹æ€§ï¼š</p>
<ol>
<li>æ›´å¼ºå¤§çš„åŸºç¡€æ¨¡å‹ï¼š ChatGLM3-6B çš„åŸºç¡€æ¨¡å‹ ChatGLM3-6B-Base é‡‡ç”¨äº†æ›´å¤šæ ·çš„è®­ç»ƒæ•°æ®ã€æ›´å……åˆ†çš„è®­ç»ƒæ­¥æ•°å’Œæ›´åˆç†çš„è®­ç»ƒç­–ç•¥ã€‚åœ¨è¯­ä¹‰ã€æ•°å­¦ã€æ¨ç†ã€ä»£ç ã€çŸ¥è¯†ç­‰ä¸åŒè§’åº¦çš„æ•°æ®é›†ä¸Šæµ‹è¯„æ˜¾ç¤ºï¼ŒChatGLM3-6B-Base å…·æœ‰åœ¨ 10B ä»¥ä¸‹çš„åŸºç¡€æ¨¡å‹ä¸­æœ€å¼ºçš„æ€§èƒ½ã€‚</li>
<li>æ›´å®Œæ•´çš„åŠŸèƒ½æ”¯æŒï¼š ChatGLM3-6B é‡‡ç”¨äº†å…¨æ–°è®¾è®¡çš„ Prompt æ ¼å¼ï¼Œé™¤æ­£å¸¸çš„å¤šè½®å¯¹è¯å¤–ã€‚åŒæ—¶åŸç”Ÿæ”¯æŒå·¥å…·è°ƒç”¨ï¼ˆFunction Callï¼‰ã€ä»£ç æ‰§è¡Œï¼ˆCode Interpreterï¼‰å’Œ Agent ä»»åŠ¡ç­‰å¤æ‚åœºæ™¯ã€‚</li>
<li>æ›´å…¨é¢çš„å¼€æºåºåˆ—ï¼š é™¤äº†å¯¹è¯æ¨¡å‹ ChatGLM3-6B å¤–ï¼Œè¿˜å¼€æºäº†åŸºç¡€æ¨¡å‹ ChatGLM3-6B-Baseã€é•¿æ–‡æœ¬å¯¹è¯æ¨¡å‹ ChatGLM3-6B-32Kã€‚ä»¥ä¸Šæ‰€æœ‰æƒé‡å¯¹å­¦æœ¯ç ”ç©¶å®Œå…¨å¼€æ”¾ï¼Œåœ¨å¡«å†™é—®å·è¿›è¡Œç™»è®°åäº¦å…è®¸å…è´¹å•†ä¸šä½¿ç”¨ã€‚</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h1 id="æœ¬åœ°è¿è¡Œstable-diffusion"><a class="header" href="#æœ¬åœ°è¿è¡Œstable-diffusion">æœ¬åœ°è¿è¡Œstable-diffusion</a></h1>
<p>æœ¬æ•™ç¨‹ä½¿ç”¨çš„æ–¹å¼æ˜¯ç”¨stable-diffusion-webuiçš„é¡¹ç›®æ¥å¯åŠ¨sdã€‚</p>
<p><a href="https://github.com/AUTOMATIC1111/stable-diffusion-webui">å¼€æºåœ°å€</a></p>
<h2 id="stable-diffusionæ˜¯ä»€ä¹ˆ"><a class="header" href="#stable-diffusionæ˜¯ä»€ä¹ˆ">stable-diffusionæ˜¯ä»€ä¹ˆ</a></h2>
<div style="break-before: page; page-break-before: always;"></div><h1 id="æœ¬åœ°æ­å»ºçŸ¥è¯†åº“"><a class="header" href="#æœ¬åœ°æ­å»ºçŸ¥è¯†åº“">æœ¬åœ°æ­å»ºçŸ¥è¯†åº“</a></h1>
<h2 id="langchain-chatchat"><a class="header" href="#langchain-chatchat">langchain-chatchat</a></h2>
<p>ğŸ¤–ï¸ ä¸€ç§åˆ©ç”¨ langchain æ€æƒ³å®ç°çš„åŸºäºæœ¬åœ°çŸ¥è¯†åº“çš„é—®ç­”åº”ç”¨ï¼Œç›®æ ‡æœŸæœ›å»ºç«‹ä¸€å¥—å¯¹ä¸­æ–‡åœºæ™¯ä¸å¼€æºæ¨¡å‹æ”¯æŒå‹å¥½ã€å¯ç¦»çº¿è¿è¡Œçš„çŸ¥è¯†åº“é—®ç­”è§£å†³æ–¹æ¡ˆã€‚</p>
<p>ğŸ’¡ å— GanymedeNil çš„é¡¹ç›® document.ai å’Œ AlexZhangji åˆ›å»ºçš„ ChatGLM-6B Pull Request å¯å‘ï¼Œå»ºç«‹äº†å…¨æµç¨‹å¯ä½¿ç”¨å¼€æºæ¨¡å‹å®ç°çš„æœ¬åœ°çŸ¥è¯†åº“é—®ç­”åº”ç”¨ã€‚æœ¬é¡¹ç›®çš„æœ€æ–°ç‰ˆæœ¬ä¸­é€šè¿‡ä½¿ç”¨ FastChat æ¥å…¥ Vicuna, Alpaca, LLaMA, Koala, RWKV ç­‰æ¨¡å‹ï¼Œä¾æ‰˜äº langchain æ¡†æ¶æ”¯æŒé€šè¿‡åŸºäº FastAPI æä¾›çš„ API è°ƒç”¨æœåŠ¡ï¼Œæˆ–ä½¿ç”¨åŸºäº Streamlit çš„ WebUI è¿›è¡Œæ“ä½œã€‚</p>
<p>å®ç°åŸç†å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œè¿‡ç¨‹åŒ…æ‹¬åŠ è½½æ–‡ä»¶ -&gt; è¯»å–æ–‡æœ¬ -&gt; æ–‡æœ¬åˆ†å‰² -&gt; æ–‡æœ¬å‘é‡åŒ– -&gt; é—®å¥å‘é‡åŒ– -&gt; åœ¨æ–‡æœ¬å‘é‡ä¸­åŒ¹é…å‡ºä¸é—®å¥å‘é‡æœ€ç›¸ä¼¼çš„ top kä¸ª -&gt; åŒ¹é…å‡ºçš„æ–‡æœ¬ä½œä¸ºä¸Šä¸‹æ–‡å’Œé—®é¢˜ä¸€èµ·æ·»åŠ åˆ° promptä¸­ -&gt; æäº¤ç»™ LLMç”Ÿæˆå›ç­”ã€‚</p>
<p><img src="local-run/../images/langchain-chatglm.png" alt="åŸç†å›¾" /></p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>

        <!-- Livereload script (if served using the cli tool) -->
        <script>
            const wsProtocol = location.protocol === 'https:' ? 'wss:' : 'ws:';
            const wsAddress = wsProtocol + "//" + location.host + "/" + "__livereload";
            const socket = new WebSocket(wsAddress);
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>



        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->

        <script>
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>

    </div>
    </body>
</html>
